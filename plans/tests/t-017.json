{
  "id": "t-017",
  "title": "Config and state files load correctly",
  "description": "Verify that new config fields and state file are created and parseable",
  "storyRefs": ["s-m08"],
  "planRef": "plans/20260201-multi-user-3rd-party-access.plan.md",
  "type": "story",
  "status": "passed",
  "steps": [
    {
      "order": 1,
      "action": "Check cc4me.config.yaml for security.third_party_senders_file field",
      "expected": "Field exists with path to 3rd-party-senders.json"
    },
    {
      "order": 2,
      "action": "Check cc4me.config.yaml for security.rate_limits fields",
      "expected": "incoming_max_per_minute and outgoing_max_per_minute are present with numeric values"
    },
    {
      "order": 3,
      "action": "Check that loadConfig() returns typed rate_limits object",
      "expected": "Config object has security.rate_limits with both fields accessible"
    },
    {
      "order": 4,
      "action": "Check that 3rd-party-senders.json exists with correct structure",
      "expected": "File has approved, denied, blocked, and pending arrays (all empty initially)"
    },
    {
      "order": 5,
      "action": "Restart daemon and check logs",
      "expected": "Daemon starts cleanly with no config parsing errors"
    }
  ],
  "created": "2026-02-01T22:30:00Z",
  "executedAt": "2026-02-01T23:53:00Z",
  "result": "All 5 steps passed. Config fields present, types correct, state file created, daemon starts cleanly."
}
