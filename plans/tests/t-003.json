{
  "id": "t-003",
  "title": "Expired approval classified as unknown",
  "description": "Verify that an approved sender whose expiry date has passed is reclassified as unknown",
  "storyRefs": ["s-m01"],
  "planRef": "plans/20260201-multi-user-3rd-party-access.plan.md",
  "type": "story",
  "status": "passed",
  "steps": [
    {
      "order": 1,
      "action": "Add a sender to approved list with expires set to a past date (e.g., yesterday)",
      "expected": "Sender is in the approved array with an expired date"
    },
    {
      "order": 2,
      "action": "Call classifySender() with that sender's ID",
      "expected": "Returns 'unknown' (not 'approved')"
    },
    {
      "order": 3,
      "action": "Add a sender with expires set to a future date",
      "expected": "classifySender() returns 'approved'"
    },
    {
      "order": 4,
      "action": "Add a sender with expires set to null (persistent)",
      "expected": "classifySender() returns 'approved'"
    }
  ],
  "created": "2026-02-01T22:30:00Z",
  "executedAt": "2026-02-01T23:58:00Z",
  "result": "All 4 steps passed. Expired returns 'unknown', future and null expiry return 'approved'."
}
